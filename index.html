<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aide-m√©moire TP Not√© - R√©daction & Git</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>Aide-m√©moire : LaTeX & Git</h1>
        <nav>
            <a href="#latex-base">LaTeX : Bases</a>
            <a href="#latex-format">Mise en forme</a>
            <a href="#latex-math">Maths</a>
            <a href="#latex-avance">Avanc√©</a>
            <a href="#preambule">Pr√©ambule</a> <a href="#git">Git</a>
        </nav>
    </header>

    <main>
        <section id="latex-base">
            <h2>1. Structure LaTeX & Compilation</h2>
            
            <div class="card">
                [cite_start]<h3>Squelette Minimal [cite: 2566, 4630]</h3>
                <pre><code>\documentclass[french]{article} % Classe + Option langue
[cite_start]\usepackage[utf8]{inputenc}     % Encodage entr√©e [cite: 2437]
[cite_start]\usepackage[T1]{fontenc}        % Encodage sortie [cite: 2433]
[cite_start]\usepackage{babel}              % Support langue [cite: 2430]
[cite_start]\usepackage{hyperref}           % Liens cliquables [cite: 3097]

\title{Titre}
\author{Auteur}
\date{\today}

\begin{document}
    [cite_start]\maketitle                  % Affiche le titre [cite: 4533]
    [cite_start]\tableofcontents            % Table des mati√®res [cite: 4714]

    [cite_start]\section{Introduction}      % [cite: 4718]
    Votre texte ici.
\end{document}</code></pre>
            </div>

            <div class="card">
                [cite_start]<h3>Compilation [cite: 3203, 3230]</h3>
                <table>
                    <tr>
                        <th>Action</th>
                        <th>D√©tail</th>
                    </tr>
                    <tr>
                        <td>Commande</td>
                        [cite_start]<td><code>pdflatex fichier.tex</code> [cite: 1330]</td>
                    </tr>
                    <tr>
                        <td>Fichiers Aux.</td>
                        [cite_start]<td><code>.aux</code> (r√©f√©rences), <code>.toc</code> (table des mati√®res), <code>.log</code> (journal) [cite: 3223, 3234]</td>
                    </tr>
                    <tr>
                        <td>R√©p√©tition</td>
                        [cite_start]<td>Compiler <strong>2 fois</strong> si r√©f√©rences ou TOC incorrectes [cite: 3251]</td>
                    </tr>
                </table>
            </div>
        </section>

        <section id="latex-format">
            <h2>2. Texte & Mise en forme</h2>
            
            <div class="split">
                <div class="card">
                    [cite_start]<h3>Polices & Styles [cite: 3596, 3639, 3745]</h3>
                    <table>
                        <tr>
                            <th>Effet</th>
                            <th>Commande</th>
                            <th>Environnement / Switch</th>
                        </tr>
                        <tr>
                            <td><b>Gras</b></td>
                            <td><code>\textbf{...}</code></td>
                            <td><code>\bfseries</code></td>
                        </tr>
                        <tr>
                            <td><i>Italique</i></td>
                            <td><code>\emph{...}</code> (pr√©fer√©) ou <code>\textit{...}</code></td>
                            <td><code>\itshape</code></td>
                        </tr>
                        <tr>
                            <td><span style="font-variant: small-caps;">Petites Capitales</span></td>
                            <td><code>\textsc{...}</code></td>
                            <td><code>\scshape</code></td>
                        </tr>
                        <tr>
                            <td><tt>Monospace</tt></td>
                            <td><code>\texttt{...}</code></td>
                            <td><code>\ttfamily</code></td>
                        </tr>
                        <tr>
                            <td>Sans Serif</td>
                            <td><code>\textsf{...}</code></td>
                            <td><code>\sffamily</code></td>
                        </tr>
                        <tr>
                            <td>Couleur</td>
                            <td><code>\textcolor{red}{...}</code></td>
                            <td>Paquet <code>xcolor</code></td>
                        </tr>
                        <tr>
                            <td>Taille</td>
                            <td colspan="2"><code>\tiny</code>, <code>\small</code>, <code>\normalsize</code>, <code>\large</code>, <code>\Large</code>, <code>\huge</code>, <code>\Huge</code></td>
                        </tr>
                    </table>
                </div>

                <div class="card">
                    [cite_start]<h3>Listes [cite: 2604, 2618]</h3>
                    <ul>
                        <li><strong>Num√©rot√©e :</strong> <code>\begin{enumerate} \item ... \end{enumerate}</code></li>
                        <li><strong>√Ä puces :</strong> <code>\begin{itemize} \item ... \end{itemize}</code></li>
                        <li><strong>Descriptive :</strong> <code>\begin{description} \item[Titre] ... \end{description}</code></li>
                        [cite_start]<li><em>Paquet utile :</em> <code>enumitem</code> pour personnaliser[cite: 2689].</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                [cite_start]<h3>R√©f√©rences Crois√©es [cite: 3022, 3130]</h3>
                <table>
                    <tr>
                        <th>Action</th>
                        <th>Commande</th>
                    </tr>
                    <tr>
                        <td>Placer une ancre</td>
                        <td><code>\label{sec/mon-label}</code> (apr√®s la section/figure/√©quation)</td>
                    </tr>
                    <tr>
                        <td>Faire r√©f√©rence</td>
                        <td><code>\ref{sec/mon-label}</code> (donne le num√©ro)</td>
                    </tr>
                    <tr>
                        <td>Lien Web</td>
                        [cite_start]<td><code>\url{...}</code> ou <code>\href{url}{texte}</code> (avec paquet <code>hyperref</code>) [cite: 3126]</td>
                    </tr>
                    <tr>
                        <td>R√©f√©rence intelligente</td>
                        [cite_start]<td><code>\cref{...}</code> (avec paquet <code>cleveref</code>, ajoute "Section" auto) [cite: 3138]</td>
                    </tr>
                </table>
            </div>
        </section>

        <section id="latex-math">
            <h2>3. Maths & Tableaux</h2>

            <div class="split">
                <div class="card">
                    [cite_start]<h3>Modes Math√©matiques [cite: 5061]</h3>
                    <ul>
                        [cite_start]<li><strong>Inline (dans le texte) :</strong> <code>$ ... $</code> ou <code>\( ... \)</code> [cite: 5079]</li>
                        [cite_start]<li><strong>Display (centr√©) :</strong> <code>\[ ... \]</code> ou environnement <code>equation</code> [cite: 5090]</li>
                        [cite_start]<li><strong>Paquets requis :</strong> <code>mathtools</code>, <code>amssymb</code>, <code>amsthm</code> [cite: 1351]</li>
                    </ul>
                    [cite_start]<h4>Symboles courants [cite: 4952, 2580]</h4>
                    <p>
                        Indice : <code>_{i}</code> | Exposant : <code>^{2}</code> | Fraction : <code>\frac{a}{b}</code><br>
                        Somme : <code>\sum</code> | Produit : <code>\prod</code> | Int√©grale : <code>\int</code><br>
                        Grec : <code>\alpha</code>, <code>\pi</code>, <code>\theta</code> | Ensemble : <code>\mathbb{N}</code><br>
                        Logique : <code>\forall</code>, <code>\exists</code>, <code>\implies</code>, <code>\iff</code>
                    </p>
                </div>

                <div class="card">
                    [cite_start]<h3>Tableaux (Tabular) [cite: 1014, 1034]</h3>
                    <pre><code>\begin{tabular}{|l|c|r|} % Colonnes: gauche, centr√©, droite
    \hline
    A & B & C \\      % & s√©pare les colonnes, \\ change de ligne
    \hline
    1 & 2 & 3 \\
    \hline
\end{tabular}</code></pre>
                    <ul>
                        <li><code>\hline</code> : ligne horizontale.</li>
                        <li><code>|</code> : ligne verticale (dans la d√©finition des colonnes).</li>
                        [cite_start]<li>Fusion : <code>\multicolumn{nb}{align}{texte}</code>[cite: 1043].</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="latex-avance">
            <h2>4. Images, Code & Commandes</h2>
            
            <div class="card">
                [cite_start]<h3>Insertion d'Images [cite: 1108, 1916]</h3>
                <p>Paquet : <code>graphicx</code></p>
                [cite_start]<pre><code>\begin{figure}[h] % Environnement flottant (h=here, t=top, b=bottom) [cite: 1962]
    \centering
    [cite_start]\includegraphics[width=0.8\linewidth]{image.png} % Options: scale, width, angle [cite: 1120]
    [cite_start]\caption{Ma l√©gende} % [cite: 1901]
    \label{fig:mon-image}
\end{figure}</code></pre>
            </div>

            <div class="card">
                [cite_start]<h3>Insertion de Code [cite: 1707, 1726]</h3>
                <p>Paquet : <code>listings</code></p>
                <ul>
                    [cite_start]<li><strong>Dans le texte :</strong> <code>\lstinline{print("hello")}</code> [cite: 1706]</li>
                    <li><strong>Environnement :</strong> <code>\begin{lstlisting} ... \end{lstlisting}</code></li>
                    [cite_start]<li><strong>Depuis un fichier :</strong> <code>\lstinputlisting{fichier.py}</code> [cite: 1708]</li>
                    [cite_start]<li><strong>Configuration :</strong> <code>\lstset{language=Python, basicstyle=\ttfamily}</code> [cite: 1269]</li>
                </ul>
            </div>

            <div class="card">
                [cite_start]<h3>Commandes Personnalis√©es [cite: 1124, 1156]</h3>
                <ul>
                    <li><strong>Simple :</strong> <code>\newcommand{\monNom}{Bruno}</code></li>
                    <li><strong>Avec argument :</strong> <code>\newcommand{\important}[1]{\textbf{#1}}</code> (usage: <code>\important{Texte}</code>)</li>
                    [cite_start]<li><strong>Argument optionnel :</strong> <code>\newcommand{\cmd}[2][defaut]{#1 #2}</code> [cite: 1168]</li>
                </ul>
            </div>
        </section>

        <section id="git">
            <h2>5. Git & Gestion de Version</h2>

            <div class="split">
                <div class="card">
                    [cite_start]<h3>Configuration & Init [cite: 3385, 3359]</h3>
                    <pre><code>git config --global user.name "Nom"
git config --global user.email "email"
git init        # Cr√©er un d√©p√¥t local</code></pre>
                </div>

                <div class="card">
                    [cite_start]<h3>Workflow de base [cite: 29, 35, 109, 3470]</h3>
                    <table>
                        <tr>
                            <th>Commande</th>
                            <th>Action</th>
                        </tr>
                        <tr>
                            <td><code>git status</code></td>
                            <td>Voir l'√©tat des fichiers (modifi√©s, index√©s)</td>
                        </tr>
                        <tr>
                            <td><code>git add fichier</code></td>
                            <td>Ajouter un fichier √† l'index (pr√©parer la version)</td>
                        </tr>
                        <tr>
                            <td><code>git commit -m "msg"</code></td>
                            <td>Enregistrer la version avec un message</td>
                        </tr>
                        <tr>
                            <td><code>git log</code></td>
                            <td>Voir l'historique des versions</td>
                        </tr>
                        <tr>
                            <td><code>.gitignore</code></td>
                            <td>Fichier listant ce que Git doit ignorer (*.aux, *.log)</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="card">
                [cite_start]<h3>D√©p√¥t Distant & Collaboration [cite: 422, 450, 667, 3516]</h3>
                <table>
                    <tr>
                        <th>Commande</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td><code>git clone &lt;url&gt;</code></td>
                        <td>R√©cup√©rer un d√©p√¥t distant (cr√©e un dossier)</td>
                    </tr>
                    <tr>
                        <td><code>git push</code></td>
                        <td>Envoyer ses versions locales vers le serveur</td>
                    </tr>
                    <tr>
                        <td><code>git pull</code></td>
                        <td>R√©cup√©rer les versions du serveur et fusionner</td>
                    </tr>
                    <tr>
                        <td><strong>Conflit</strong></td>
                        <td>Survient au <code>pull</code> si modifications incompatibles.
                            <br>Marqueurs : <code>&lt;&lt;&lt;&lt; HEAD</code> (local) et <code>====</code> et <code>&gt;&gt;&gt;&gt;</code> (distant).
                            <br>Solution : √âditer le fichier, choisir le code, <code>git add</code>, <code>git commit</code>.</td>
                    </tr>
                </table>
            </div>
        </section>

        <section id="shell">
            <h2>6. [cite_start]Rappel Shell (Bash) [cite: 4041]</h2>
            <ul>
                <li><code>cd dossier</code> : Changer de r√©pertoire.</li>
                <li><code>ls -a</code> : Lister les fichiers (y compris cach√©s).</li>
                <li><code>pwd</code> : Afficher le r√©pertoire courant.</li>
                <li><code>mkdir dossier</code> : Cr√©er un dossier.</li>
                <li><code>rm fichier</code> : Supprimer un fichier.</li>
                <li><code>mv ancien nouveau</code> : Renommer ou d√©placer.</li>
                <li><code>cp source dest</code> : Copier.</li>
            </ul>
        </section>
        <section id="preambule">
            <h2>7. Pr√©ambule Complet (Pr√™t √† l'emploi)</h2>
            <div class="card">
                <h3>√Ä copier-coller au d√©but de votre fichier .tex</h3>
                <p>Ce bloc regroupe tous les paquets et configurations vus dans les TP 1 √† 5.</p>
                <pre><code class="language-tex">% =============================================================
% PR√âAMBULE FONCTIONNEL - SYNTH√àSE DU COURS
% =============================================================

% 1. Classe du document
% Options : a4paper, 11pt, french (langue globale)
\documentclass[a4paper, 11pt, french]{article}

% 2. Encodage et Polices
\usepackage[utf8]{inputenc}  % Encodage du fichier source
\usepackage[T1]{fontenc}     % Encodage de sortie (pdf)
\usepackage{lmodern}         % Police vectorielle de meilleure qualit√© (Latin Modern)
\usepackage{babel}           % Support linguistique (typographie fran√ßaise)
\usepackage{microtype}       % Am√©lioration de la justification et des espacements

% 3. Math√©matiques
\usepackage{mathtools}       % Outils math√©matiques avanc√©s (inclut amsmath)
\usepackage{amssymb}         % Symboles math√©matiques suppl√©mentaires
\usepackage{amsthm}          % Environnements th√©or√®mes et preuves

% D√©finition de l'environnement th√©or√®me (vu en TP2)
\newtheorem{theorem}{Th√©or√®me}

% 4. Mise en forme et Structure
\usepackage{enumitem}        % Personnalisation des listes (itemize, enumerate)
\usepackage{xcolor}          % Gestion des couleurs
\usepackage{xspace}          % Gestion intelligente des espaces dans les macros
\usepackage{geometry}        % (Optionnel) Pour g√©rer les marges si besoin

% 5. Tableaux
\usepackage{multirow}        % Fusion de cellules verticales
\usepackage{hhline}          % Lignes horizontales complexes
\usepackage{array}           % Am√©lioration des colonnes de tableaux
\usepackage{makecell}        % Mise en forme des cellules et ent√™tes

% 6. Images et Figures
\usepackage{graphicx}        % Inclusion d'images (\includegraphics)
\usepackage{float}           % Gestion du placement des flottants (option H)
\usepackage{subcaption}      % Sous-figures
\usepackage{wrapfig}         % Texte autour des figures

% 7. Code informatique
\usepackage{listings}        % Insertion de code source
\usepackage{upquote}         % Pour avoir de vrais guillemets en verbatim/code

% Configuration de base pour listings (vu en TP5) 
\lstset{
    basicstyle=\ttfamily\small, % Police monospace
    frame=single,               % Encadr√©
    tabsize=2,                  % Taille des tabulations
    breaklines=true,            % Retour √† la ligne automatique
    columns=fullflexible
}

% 8. R√©f√©rences et Liens (√Ä charger en dernier)
\usepackage{hyperref}        % Rend les r√©f√©rences cliquables (interne/externe)
\hypersetup{
    colorlinks=true,         % Liens color√©s
    urlcolor=blue,           % Couleur des URL
    linkcolor=black          % Couleur des liens internes
}
\usepackage{cleveref}        % R√©f√©rencement intelligent (\cref)

% =============================================================
% INFORMATIONS DU DOCUMENT (M√âTA-DONN√âES)
% =============================================================
\title{Titre du Document}
\author{Votre Nom}
\date{\today}

% =============================================================
% D√âBUT DU DOCUMENT
% =============================================================
\begin{document}

\maketitle           % Affiche le titre
\tableofcontents     % Affiche la table des mati√®res

% Votre contenu ici...

\end{document}</code></pre>
            </div>
        </section>

    </main>
    
    <footer>
        <p>Bas√© sur les supports de cours et TP de R√©daction Math√©matique et Informatique.</p>
    </footer>
    <div id="secret-widget">
    <button id="secret-btn" title="Assistant Secret" onclick="toggleChat()">ü§ñ</button>

    <div id="chat-window">
        <div class="chat-header">
            <span>IA Assistant (D√©mo)</span>
            <button onclick="toggleChat()">√ó</button>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="message bot">Bonjour ! Je suis une interface de d√©mo. Je ne peux pas vraiment lire vos PDF sans serveur, mais je suis pr√™t √† recevoir vos commandes !</div>
        </div>
        <div class="chat-input">
            <label for="file-upload" class="upload-btn">üìé</label>
            <input type="file" id="file-upload" accept="image/*,.pdf">
            
            <input type="text" id="user-input" placeholder="Posez une question..." onkeypress="handleKeyPress(event)">
            <button onclick="sendMessage()">‚û§</button>
        </div>
    </div>
</div>

<script>
    // ---------------------------------------------------------
    // CONFIGURATION (√Ä REMPLIR)
    // ---------------------------------------------------------
    const API_KEY = "VOTRE_API_KEY_ICI"; // <--- Collez votre cl√© ici entre les guillemets
    
    // Mod√®le utilis√© (Gemini 1.5 Flash est rapide et g√®re les images/PDFs)
    const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;

    function toggleChat() {
        const chat = document.getElementById('chat-window');
        chat.style.display = chat.style.display === 'flex' ? 'none' : 'flex';
    }

    // Fonction pour convertir un fichier en Base64 (n√©cessaire pour l'API)
    const fileToGenerativePart = (file) => {
        return new Promise((resolve) => {
            const reader = new FileReader();
            reader.onloadend = () => resolve({
                inlineData: {
                    data: reader.result.split(',')[1],
                    mimeType: file.type
                }
            });
            reader.readAsDataURL(file);
        });
    };

    async function sendMessage() {
        const input = document.getElementById('user-input');
        const fileInput = document.getElementById('file-upload');
        const messages = document.getElementById('chat-messages');
        const text = input.value.trim();
        const file = fileInput.files[0];

        // V√©rification vide
        if (text === "" && !file) return;

        // 1. Affichage du message utilisateur
        let userMsgHtml = `<div class="message user">${text}`;
        if (file) {
            userMsgHtml += `<br><small>üìé ${file.name}</small>`;
        }
        userMsgHtml += `</div>`;
        messages.innerHTML += userMsgHtml;
        messages.scrollTop = messages.scrollHeight;

        // Reset des champs input (pour √©viter le spam)
        input.value = "";
        fileInput.value = "";

        // 2. Affichage "En train d'√©crire..."
        const loadingId = "loading-" + Date.now();
        messages.innerHTML += `<div class="message bot" id="${loadingId}">...</div>`;
        messages.scrollTop = messages.scrollHeight;

        try {
            // Pr√©paration du contenu pour Gemini
            const parts = [];
            if (text) parts.push({ text: text });
            if (file) {
                const imagePart = await fileToGenerativePart(file);
                parts.push(imagePart);
            }

            // Appel API
            const response = await fetch(API_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    contents: [{ parts: parts }]
                })
            });

            const data = await response.json();

            // Retirer le message de chargement
            document.getElementById(loadingId).remove();

            // Gestion de la r√©ponse ou erreur
            if (data.error) {
                messages.innerHTML += `<div class="message bot" style="color:red">Erreur : ${data.error.message}</div>`;
            } else {
                const aiText = data.candidates[0].content.parts[0].text;
                // Conversion simple des sauts de ligne et du markdown basique (gras)
                const formattedText = aiText
                    .replace(/\*\*(.*?)\*\*/g, '<b>$1</b>') // Gras
                    .replace(/\n/g, '<br>'); // Sauts de ligne
                
                messages.innerHTML += `<div class="message bot">${formattedText}</div>`;
            }

        } catch (error) {
            document.getElementById(loadingId).remove();
            messages.innerHTML += `<div class="message bot" style="color:red">Erreur de connexion (V√©rifiez votre internet ou la cl√© API).</div>`;
            console.error(error);
        }

        messages.scrollTop = messages.scrollHeight;
    }

    function handleKeyPress(e) {
        if (e.key === 'Enter') sendMessage();
    }
</script>
</body>

</html>


